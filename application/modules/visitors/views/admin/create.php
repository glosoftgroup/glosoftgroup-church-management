<?php
    $counties = array(
            '' => 'Select County',
            'Baringo' => 'Baringo',
            'Bomet' => 'Bomet',
            'Bungoma' => 'Bungoma',
            'Busia' => 'Busia',
            'Elgeyo Marakwet' => 'Elgeyo Marakwet',
            'Embu' => 'Embu',
            'Garissa' => 'Garissa',
            'Homa Bay' => 'Homa Bay',
            'Isiolo' => 'Isiolo',
            'Kajiado' => 'Kajiado',
            'Kakamega' => 'Kakamega',
            'Kericho' => 'Kericho',
            'Kiambu' => 'Kiambu',
            'Kilifi' => 'Kilifi',
            'Kirinyaga' => 'Kirinyaga',
            'Kisii' => 'Kisii',
            'Kisumu' => 'Kisumu',
            'Kitui' => 'Kitui',
            'Kwale' => 'Kwale',
            'Laikipia' => 'Laikipia',
            'Lamu' => 'Lamu',
            'Machakos' => 'Machakos',
            'Makueni' => 'Makueni',
            'Mandera' => 'Mandera',
            'Marsabit' => 'Marsabit',
            'Meru' => 'Meru',
            'Migori' => 'Migori',
            'Mombasa' => 'Mombasa',
            'Muranga' => 'Muranga',
            'Nairobi' => 'Nairobi',
            'Nakuru' => 'Nakuru',
            'Nandi' => 'Nandi',
            'Narok' => 'Narok',
            'Nyamira' => 'Nyamira',
            'Nyandarua' => 'Nyandarua',
            'Nyeri' => 'Nyeri',
            'Samburu' => 'Samburu',
            'Siaya' => 'Siaya',
            'Taita Taveta' => 'Taita Taveta',
            'Tana River' => 'Tana River',
            'Tharaka Nithi' => 'Tharaka Nithi',
            'Trans Nzoia' => 'Trans Nzoia',
            'Turkana' => 'Turkana',
            'Uasin Gishu' => 'Uasin Gishu',
            'Vihiga' => 'Vihiga',
            'Wajir' => 'Wajir',
            'West Pokot' => 'West Pokot');


    $countrylist = array(
            "Kenya" => "Kenya",
            "Afghanistan" => "Afghanistan",
            "Albania" => "Albania",
            "Algeria" => "Algeria",
            "Algeria" => "Algeria",
            "Algeria" => "Algeria",
            "Antigua and Barbuda" => "Antigua and Barbuda",
            "Argentina" => "Argentina",
            "Armenia" => "Armenia",
            "Australia" => "Australia",
            "Austria" => "Austria",
            "Azerbaijan" => "Azerbaijan",
            "Bahamas" => "Bahamas",
            "Bahrain" => "Bahrain",
            "Bangladesh" => "Bangladesh",
            "Barbados" => "Barbados",
            "Belarus" => "Belarus",
            "Belgium" => "Belgium",
            "Belize" => "Belize",
            "Benin" => "Benin",
            "Bhutan" => "Bhutan",
            "Bolivia" => "Bolivia",
            "Bosnia and Herzegovina" => "Bosnia and Herzegovina",
            "Botswana" => "Botswana",
            "Brazil" => "Brazil",
            "Brunei" => "Brunei",
            "Bulgaria" => "Bulgaria",
            "Burkina Faso" => "Burkina Faso",
            "Burundi" => "Burundi",
            "Cambodia" => "Cambodia",
            "Cameroon" => "Cameroon",
            "Canada" => "Canada",
            "Cape Verde" => "Cape Verde",
            "Central African Republic" => "Central African Republic",
            "Chad" => "Chad",
            "Chile" => "Chile",
            "China" => "China",
            "Colombi" => "Colombi",
            "Comoros" => "Comoros",
            "Congo (Brazzaville)" => "Congo (Brazzaville)",
            "Congo" => "Congo",
            "Costa Rica" => "Costa Rica",
            "Cote d'Ivoire" => "Cote d'Ivoire",
            "Croatia" => "Croatia",
            "Cuba" => "Cuba",
            "Cyprus" => "Cyprus",
            "Czech Republic" => "Czech Republic",
            "Denmark" => "Denmark",
            "Djibouti" => "Djibouti",
            "Dominica" => "Dominica",
            "Dominican Republic" => "Dominican Republic",
            "East Timor (Timor Timur)" => "East Timor (Timor Timur)",
            "Ecuador" => "Ecuador",
            "Egypt" => "Egypt",
            "El Salvador" => "El Salvador",
            "Equatorial Guinea" => "Equatorial Guinea",
            "Eritrea" => "Eritrea",
            "Estonia" => "Estonia",
            "Ethiopia" => "Ethiopia",
            "Fiji" => "Fiji",
            "Finland" => "Finland",
            "France" => "France",
            "Gabon" => "Gabon",
            "Gambia, The" => "Gambia, The",
            "Georgia" => "Georgia",
            "Germany" => "Germany",
            "Ghana" => "Ghana",
            "Greece" => "Greece",
            "Grenada" => "Grenada",
            "Guatemala" => "Guatemala",
            "Guinea" => "Guinea",
            "Guinea-Bissau" => "Guinea-Bissau",
            "Guyana" => "Guyana",
            "Haiti" => "Haiti",
            "Honduras" => "Honduras",
            "Hungary" => "Hungary",
            "Iceland" => "Iceland",
            "India" => "India",
            "Indonesia" => "Indonesia",
            "Iran" => "Iran",
            "Iraq" => "Iraq",
            "Ireland" => "Ireland",
            "Israel" => "Israel",
            "Italy" => "Italy",
            "Jamaica" => "Jamaica",
            "Japan" => "Japan",
            "Jordan" => "Jordan",
            "Kazakhstan" => "Kazakhstan",
            "Kenya" => "Kenya",
            "Kiribati" => "Kiribati",
            "Korea, North" => "Korea, North",
            "Korea, South" => "Korea, South",
            "Kuwait" => "Kuwait",
            "Kyrgyzstan" => "Kyrgyzstan",
            "Laos" => "Laos",
            "Latvia" => "Latvia",
            "Lebanon" => "Lebanon",
            "Lesotho" => "Lesotho",
            "Liberia" => "Liberia",
            "Libya" => "Libya",
            "Liechtenstein" => "Liechtenstein",
            "Lithuania" => "Lithuania",
            "Luxembourg" => "Luxembourg",
            "Macedonia" => "Macedonia",
            "Madagascar" => "Madagascar",
            "Malawi" => "Malawi",
            "Malaysia" => "Malaysia",
            "Maldives" => "Maldives",
            "Mali" => "Mali",
            "Malta" => "Malta",
            "Marshall Islands" => "Marshall Islands",
            "Mauritania" => "Mauritania",
            "Mauritius" => "Mauritius",
            "Mexico" => "Mexico",
            "Micronesia" => "Micronesia",
            "Moldova" => "Moldova",
            "Monaco" => "Monaco",
            "Mongolia" => "Mongolia",
            "Morocco" => "Morocco",
            "Mozambique" => "Mozambique",
            "Myanmar" => "Myanmar",
            "Namibia" => "Namibia",
            "Nauru" => "Nauru",
            "Nepa" => "Nepa",
            "Netherlands" => "Netherlands",
            "New Zealand" => "New Zealand",
            "Nicaragua" => "Nicaragua",
            "Niger" => "Niger",
            "Nigeria" => "Nigeria",
            "Norway" => "Norway",
            "Oman" => "Oman",
            "Pakistan" => "Pakistan",
            "Palau" => "Palau",
            "Panama" => "Panama",
            "Papua New Guinea" => "Papua New Guinea",
            "Paraguay" => "Paraguay",
            "Peru" => "Peru",
            "Philippines" => "Philippines",
            "Poland" => "Poland",
            "Portugal" => "Portugal",
            "Qatar" => "Qatar",
            "Romania" => "Romania",
            "Russia" => "Russia",
            "Rwanda" => "Rwanda",
            "Saint Kitts and Nevis" => "Saint Kitts and Nevis",
            "Saint Lucia" => "Saint Lucia",
            "Saint Vincent" => "Saint Vincent",
            "Samoa" => "Samoa",
            "San Marino" => "San Marino",
            "Sao Tome and Principe" => "Sao Tome and Principe",
            "Saudi Arabia" => "Saudi Arabia",
            "Senegal" => "Senegal",
            "Serbia and Montenegro" => "Serbia and Montenegro",
            "Seychelles" => "Seychelles",
            "Sierra Leone" => "Sierra Leone",
            "Singapore" => "Singapore",
            "Slovakia" => "Slovakia",
            "Slovenia" => "Slovenia",
            "Solomon Islands" => "Solomon Islands",
            "Somalia" => "Somalia",
            "South Africa" => "South Africa",
            "Spain" => "Spain",
            "Sri Lanka" => "Sri Lanka",
            "Sudan" => "Sudan",
            "Suriname" => "Suriname",
            "Swaziland" => "Swaziland",
            "Sweden" => "Sweden",
            "Switzerland" => "Switzerland",
            "Syria" => "Syria",
            "Taiwan" => "Taiwan",
            "Tajikistan" => "Tajikistan",
            "Tanzania" => "Tanzania",
            "Thailand" => "Thailand",
            "Togo" => "Togo",
            "Tonga" => "Tonga",
            "Trinidad and Tobago" => "Trinidad and Tobago",
            "Tunisia" => "Tunisia",
            "Turkey" => "Turkey",
            "Turkmenistan" => "Turkmenistan",
            "Tuvalu" => "Tuvalu",
            "Uganda" => "Uganda",
            "Ukraine" => "Ukraine",
            "United Arab Emirates" => "United Arab Emirates",
            "United Kingdom" => "United Kingdom",
            "United States" => "United States",
            "Uruguay" => "Uruguay",
            "Uzbekistan" => "Uzbekistan",
            "Vanuatu" => "Vanuatu",
            "Vatican City" => "Vatican City",
            "Venezuela" => "Venezuela",
            "Vietnam" => "Vietnam",
            "Yemen" => "Yemen",
            "Zambia" => "Zambia",
            "Zimbabwe" => "Zimbabwe"
    );
?>

<div class="col-sm-12">
    <div class="panel panel-default animated fadeIn"> 
        <div class="panel-heading">
            <i class="icon-external-link-sign"></i>
            <h3 class="panel-title"><?php echo ($updType == 'edit') ? 'Edit ' : 'Add '; ?> Visitors </h3>

            <div class="heading-elements">
                <div class="btn-group">
                     <?php echo anchor('admin/visitors/create', '<i class="icon-plus-sign-alt"></i> <span> ' . lang('web_add_t', array(':name' => 'Visitors')) . '</span>', 'class="btn btn-primary"'); ?> 
                     <?php echo anchor('admin/visitors', '<i class="icon-list"></i> <span>' . lang('web_list_all', array(':name' => 'Visitors')) . '</span>', 'class="btn btn-primary"'); ?> 
                </div>
            </div>
        </div>

        <div class="panel-body" style="display: block;">    


            <div class='clearfix'></div>

            <?php
                $attributes = array('class' => 'form-horizontal', 'id' => '');
                echo form_open_multipart(current_url(), $attributes);
            ?>

            <div class="col-sm-6">

                <div class='form-group'>
                    <label class=' col-sm-3 control-label' for='visit_date'>Visit Date <span class='required'>*</span></label>
                    <div class="col-sm-8 input-group">

                        <input id='visit_date' type='text' name='visit_date' maxlength='' class='form-control date-picker' value="<?php echo set_value('visit_date', $result->visit_date > 0 ? date('d M Y', $result->visit_date) : $result->visit_date); ?>"  />
                        <i style="color:red"><?php echo form_error('visit_date'); ?></i>
                        <span class="input-group-addon"> <i class="icon-calendar"></i> </span>


                    </div>
                </div>

                <div class='form-group'>
                    <label class=' col-sm-3 control-label' for='first_name'>First Name <span class='required'>*</span></label><div class="col-sm-8 input-group">
                        <span class="input-group-addon"> <i class="icon-user"></i> </span>
                        <?php echo form_input('first_name', $result->first_name, 'id="first_name_"  class="form-control" '); ?>
                        <i style="color:red"><?php echo form_error('first_name'); ?></i>
                    </div>
                </div>

                <div class='form-group'>
                    <label class=' col-sm-3 control-label' for='last_name'>Last Name <span class='required'>*</span></label><div class="col-sm-8 input-group">
                        <span class="input-group-addon"> <i class="icon-user"></i> </span>
                        <?php echo form_input('last_name', $result->last_name, 'id="last_name_"  class="form-control" '); ?>
                        <i style="color:red"><?php echo form_error('last_name'); ?></i>
                    </div>
                </div>

                <div class='form-group'>
                    <label class='col-sm-3 control-label'>Gender <span class='required'>*</span></label>
                    <div class="col-sm-8">
                         <?php
                             $items = array(
                                     "Male" => "Male",
                                     "Female" => "Female",
                                     "Transgender" => "Transgender",
                             );
                             echo form_dropdown('gender', $items, (isset($result->gender)) ? $result->gender : '', ' id="gender_1" class="form-control search-select" data-placeholder="Select Options..." ');
                         ?> <i style="color:red"><?php echo form_error('gender'); ?></i>
                    </div>

                </div>		
                <div class='form-group'>
                    <label class=' col-sm-3 control-label' for='phone'>Phone <span class='required'>*</span></label>
                    <div class="col-sm-8 input-group">
                        <span class="input-group-addon"> <i class="icon-phone"></i> </span>
                        <?php echo form_input('phone', $result->phone, 'id="phone_"  class="form-control input-mask-phone" '); ?>
                        <i style="color:red"><?php echo form_error('phone'); ?></i>
                    </div>
                </div>

                <div class='form-group'>
                    <label class=' col-sm-3 control-label' for='email'>Email </label>
                    <div class="col-sm-8 input-group">
                        <span class="input-group-addon"> <i class="icon-envelope"></i> </span>
                        <?php echo form_input('email', $result->email, 'id="email_"  class="form-control" '); ?>
                        <i style="color:red"><?php echo form_error('email'); ?></i>
                    </div>
                </div>

                <div class='form-group'>
                    <label class='col-sm-3 control-label' for='county'>County <span class='required'>*</span></label>
                    <div class="col-sm-8">
                         <?php
                             echo form_dropdown('county', $counties, (isset($result->county)) ? $result->county : '', ' id="county_" class="form-control search-select" data-placeholder="Select Options..." ');
                         ?> <i style="color:red"><?php echo form_error('county'); ?></i>
                    </div>
                </div>

                <div class='form-group'>
                    <label class=' col-sm-3 control-label' for='location'>Location | Estates<span class='required'>*</span></label><div class="col-sm-8 input-group">
                        <span class="input-group-addon"> <i class="clip-location"></i> </span>
                        <?php echo form_input('location', $result->location, 'id="location_"  class="form-control" '); ?>
                        <i style="color:red"><?php echo form_error('location'); ?></i>
                    </div>
                </div>


            </div>
            <div class="col-sm-6">

                <div class='form-group'>
                    <label class=' col-sm-3 control-label' for='directed_by'>How did you know about us <span class='required'>*</span></label><div class="col-sm-8 ">



                        <?php
                            $items = array(
                                    "" => "",
                                    "Invited" => "Invited By Member",
                                    "friend" => "Through Friend",
                                    "Social Network" => "Social Network",
                                    "Website" => "Our Website",
                                    "Television" => "Television",
                                    "Radio" => "Radio",
                                    "Others" => "Others",
                            );
                            echo form_dropdown('directed_by', $items, (isset($result->directed_by)) ? $result->directed_by : '', ' id="gender_1" class="form-control search-select" data-placeholder="Select Options..." ');
                        ?> <i style="color:red"><?php echo form_error('directed_by'); ?></i>

                        <i style="color:red"><?php echo form_error('directed_by'); ?></i>
                    </div>
                </div>

                <div class="checkbox">
                    <label class="checkbox-inline">
                        <input id='' type='checkbox' name='interested_in_membership' value='1'  class="green" <?php echo preset_checkbox('interested_in_membership', '1', (isset($result->interested_in_membership)) ? $result->interested_in_membership : '' ) ?> />
                        Are you interested in being a member?
                        <i style="color:red"><?php echo form_error('interested_in_membership'); ?></i>
                    </label>
                </div>
                <div class="checkbox">
                    <label class="checkbox-inline">
                        <input id='saved' type='checkbox' name='saved' value='1'  class="green" <?php echo preset_checkbox('saved', '1', (isset($result->saved)) ? $result->saved : '' ) ?> />
                        Are you Saved?
                        <i style="color:red"><?php echo form_error('saved'); ?></i>
                    </label>
                </div>

                <div class="checkbox">
                    <label class="checkbox-inline">
                        <input id='baptised' type='checkbox' name='baptised' value='1'  class="green" <?php echo preset_checkbox('baptised', '1', (isset($result->baptised)) ? $result->baptised : '' ) ?> />
                        Are you baptised?
                        <i style="color:red"><?php echo form_error('baptised'); ?></i>
                    </label>
                </div>

                <div class="checkbox">
                    <label class="checkbox-inline">
                        <input id='know_more' type='checkbox' name='know_more' value='1'  class="green" <?php echo preset_checkbox('know_more', '1', (isset($result->know_more)) ? $result->know_more : '' ) ?> />
                        Would you like to know more about church?
                        <i style="color:red"><?php echo form_error('know_more'); ?></i>
                    </label>
                </div>

                <div class="checkbox">
                    <label class="checkbox-inline">
                        <input id='ministries_interest' type='checkbox' name='ministries_interest' value='1'  class="green" <?php echo preset_checkbox('ministries_interest', '1', (isset($result->ministries_interest)) ? $result->ministries_interest : '' ) ?> />
                        Would you like to join any ministry?
                        <i style="color:red"><?php echo form_error('ministries_interest'); ?></i>
                    </label>
                </div>

                <div class="checkbox">
                    <label class="checkbox-inline">
                        <input id='come_back' type='checkbox' name='come_back' value='1'  class="green" <?php echo preset_checkbox('come_back', '1', (isset($result->come_back)) ? $result->come_back : '' ) ?> />
                        Would you like to come back?
                        <i style="color:red"><?php echo form_error('come_back'); ?></i>
                    </label>
                </div>


            </div>
            <div class="clearfix"></div>
            <hr />
            <div class="col-sm-12">
                <div class='form-group'>
                    <label class=' col-sm-3 control-label' for='additionals'>Any Additional Info </label><div class="col-sm-6">
                        <textarea id="additionals"  class="autosize-transition ckeditor1 form-control "  name="additionals"  /><?php echo set_value('additionals', (isset($result->additionals)) ? htmlspecialchars_decode($result->additionals) : ''); ?></textarea>
                        <i style="color:red"><?php echo form_error('additionals'); ?></i>
                    </div>
                </div>
            </div>

            <div class='form-group'><label class="col-sm-3 control-label"></label><div class="col-sm-8">


                    <?php echo form_submit('submit', ($updType == 'edit') ? 'Update' : 'Save Changes', (($updType == 'create') ? "id='submit' class=' btn btn-info''" : "id='submit' class='btn btn-info'")); ?>

                    <?php echo anchor('admin/visitors', 'Cancel', 'class="btn btn-light-grey"'); ?>
                </div></div>

            <?php echo form_close(); ?>
            <div class="clearfix"></div>
        </div>
    </div> 
</div>